"use strict";

var _extends2 = require("babel-runtime/helpers/extends");

var _extends3 = _interopRequireDefault(_extends2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// Add Babel plugin
var babelPluginExists = false;
try {
  require.resolve("babel-plugin-styled-components");
  babelPluginExists = true;
} catch (e) {
  // Ignore
}

exports.modifyBabelrc = function (_ref) {
  var babelrc = _ref.babelrc,
      stage = _ref.stage;

  if (babelPluginExists) {
    if (stage === "build-html") {
      return (0, _extends3.default)({}, babelrc, {
        plugins: babelrc.plugins.concat([["babel-plugin-styled-components", {
          ssr: true
        }]])
      });
    }

    return (0, _extends3.default)({}, babelrc, {
      plugins: babelrc.plugins.concat(["babel-plugin-styled-components"])
    });
  }

  return babelrc;
};