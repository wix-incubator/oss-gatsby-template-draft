'use strict';

var _enzyme = require('enzyme');

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _testUtils = require('react-dom/test-utils');

var _testUtils2 = _interopRequireDefault(_testUtils);

var _sinon = require('sinon');

var _sinon2 = _interopRequireDefault(_sinon);

var _testkit = require('../../../testkit');

var _enzyme2 = require('../../../testkit/enzyme');

var _driverFactory = require('wix-ui-test-utils/driver-factory');

var _ButtonHeader = require('./ButtonHeader');

var _ButtonHeader2 = _interopRequireDefault(_ButtonHeader);

var _ButtonHeader3 = require('./ButtonHeader.driver');

var _ButtonHeader4 = _interopRequireDefault(_ButtonHeader3);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

describe('ButtonHeader', function () {
  var createDriver = (0, _driverFactory.createDriverFactory)(_ButtonHeader4.default);

  it('should have a title', function () {
    var driver = createDriver(_react2.default.createElement(_ButtonHeader2.default, { buttonOnClick: function buttonOnClick() {}, buttonTitle: 'Click me', title: 'Header Title' }));
    expect(driver.title()).toBe('Header Title');
  });

  it('should have a subtitle', function () {
    var driver = createDriver(_react2.default.createElement(_ButtonHeader2.default, { buttonOnClick: function buttonOnClick() {}, buttonTitle: 'Click me', subtitle: 'Header Subtitle', title: 'Header Title' }));
    expect(driver.subtitle()).toBe('Header Subtitle');
  });

  it('should have a button testKit', function () {
    var driver = createDriver(_react2.default.createElement(_ButtonHeader2.default, { buttonOnClick: function buttonOnClick() {}, buttonTitle: 'Click me', subtitle: 'Header Subtitle', title: 'Header Title' }));
    var buttonDriverTestkit = (0, _testkit.buttonTestkitFactory)({ wrapper: driver.element(), dataHook: driver.buttonDataHook() });
    expect(buttonDriverTestkit.getButtonTextContent()).toBe('Click me');
  });

  it('should click on button', function () {
    var onClick = _sinon2.default.spy();

    var driver = createDriver(_react2.default.createElement(_ButtonHeader2.default, { buttonOnClick: onClick, buttonTitle: 'Click me', subtitle: 'Header Subtitle', title: 'Header Title' }));

    driver.click();

    expect(onClick.calledOnce).toBeTruthy();
  });

  describe('testkit', function () {
    it('should exist', function () {
      var div = document.createElement('div');
      var dataHook = 'myDataHook';
      var wrapper = div.appendChild(_testUtils2.default.renderIntoDocument(_react2.default.createElement(
        'div',
        null,
        _react2.default.createElement(_ButtonHeader2.default, { buttonOnClick: function buttonOnClick() {}, buttonTitle: 'Click me', title: 'Header Title', dataHook: dataHook })
      )));
      var buttonHeaderTestkit = (0, _testkit.buttonHeaderTestkitFactory)({ wrapper: wrapper, dataHook: dataHook });
      expect(buttonHeaderTestkit.exists()).toBeTruthy();
    });
  });

  describe('enzyme testkit', function () {
    it('should exist', function () {
      var dataHook = 'myDataHook';
      var wrapper = (0, _enzyme.mount)(_react2.default.createElement(_ButtonHeader2.default, { buttonOnClick: function buttonOnClick() {}, buttonTitle: 'Click me', title: 'Header title', dataHook: dataHook }));
      var buttonDriverTestkit = (0, _enzyme2.buttonHeaderTestkitFactory)({ wrapper: wrapper, dataHook: dataHook });
      expect(buttonDriverTestkit.exists()).toBeTruthy();
    });
  });
});