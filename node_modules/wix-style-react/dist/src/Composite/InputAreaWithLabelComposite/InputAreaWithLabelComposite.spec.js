'use strict';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _InputAreaWithLabelComposite = require('./InputAreaWithLabelComposite');

var _InputAreaWithLabelComposite2 = _interopRequireDefault(_InputAreaWithLabelComposite);

var _Label = require('../../Label');

var _Label2 = _interopRequireDefault(_Label);

var _Input = require('../../Input');

var _Input2 = _interopRequireDefault(_Input);

var _InputArea = require('../../InputArea');

var _InputArea2 = _interopRequireDefault(_InputArea);

var _AutoComplete = require('../../AutoComplete');

var _AutoComplete2 = _interopRequireDefault(_AutoComplete);

var _TextArea = require('../../TextArea/TextArea.driver');

var _TextArea2 = _interopRequireDefault(_TextArea);

var _TextField = require('../../TextField/TextField.driver');

var _TextField2 = _interopRequireDefault(_TextField);

var _AutoCompleteComposite = require('../../AutoCompleteComposite/AutoCompleteComposite.driver');

var _AutoCompleteComposite2 = _interopRequireDefault(_AutoCompleteComposite);

var _driverFactory = require('wix-ui-test-utils/driver-factory');

var _Tooltip = require('../../Tooltip/Tooltip');

var _Tooltip2 = _interopRequireDefault(_Tooltip);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

describe('InputAreaWithLabelComposite', function () {
  var createTextAreaDriver = (0, _driverFactory.createDriverFactory)(_TextArea2.default);
  var createTextFieldDriver = (0, _driverFactory.createDriverFactory)(_TextField2.default);
  var createAutoCompleteDriver = (0, _driverFactory.createDriverFactory)(_AutoCompleteComposite2.default);

  it('should remove label wrapping when label not given', function () {
    var driver = createTextFieldDriver(_react2.default.createElement(
      _InputAreaWithLabelComposite2.default,
      null,
      _react2.default.createElement(_Input2.default, null)
    ));
    expect(driver.hasLabel()).toBe(false);
    expect(driver.getNumberOfChildren()).toBe(1);
  });

  it('should render Label with Input', function () {
    var driver = createTextFieldDriver(_react2.default.createElement(
      _InputAreaWithLabelComposite2.default,
      null,
      _react2.default.createElement(
        _Label2.default,
        null,
        'myLabel'
      ),
      _react2.default.createElement(_Input2.default, null)
    ));
    expect(driver.hasLabel()).toBe(true);
    expect(driver.getLabel()).toBe('myLabel');
    expect(driver.hasInput()).toBe(true);
  });

  it('should render Label with InputArea', function () {
    var driver = createTextAreaDriver(_react2.default.createElement(
      _InputAreaWithLabelComposite2.default,
      null,
      _react2.default.createElement(_Label2.default, null),
      _react2.default.createElement(_InputArea2.default, null)
    ));
    expect(driver.hasLabel()).toBe(true);
    expect(driver.hasInputArea()).toBe(true);
  });

  it('should render Label with AutoComplete', function () {
    var driver = createAutoCompleteDriver(_react2.default.createElement(
      _InputAreaWithLabelComposite2.default,
      null,
      _react2.default.createElement(_Label2.default, null),
      _react2.default.createElement(_AutoComplete2.default, null)
    ));
    expect(driver.hasLabel()).toBe(true);
    expect(driver.hasAutoComplete()).toBe(true);
  });

  describe('label attributes', function () {
    it('should FieldLabelAttributes not exists if all attributes empty or false', function () {
      var driver = createAutoCompleteDriver(_react2.default.createElement(
        _InputAreaWithLabelComposite2.default,
        null,
        _react2.default.createElement(
          _Label2.default,
          null,
          'label'
        ),
        _react2.default.createElement(_InputArea2.default, null)
      ));

      expect(driver.hasFieldLabelAttributes()).toBe(false);
    });

    it('should FieldLabelAttributes exists if required', function () {
      var driver = createAutoCompleteDriver(_react2.default.createElement(
        _InputAreaWithLabelComposite2.default,
        { required: true },
        _react2.default.createElement(
          _Label2.default,
          null,
          'label'
        ),
        _react2.default.createElement(_InputArea2.default, null)
      ));

      expect(driver.hasFieldLabelAttributes()).toBe(true);
    });

    it('should FieldLabelAttributes exists if required and with one child', function () {
      var driver = createAutoCompleteDriver(_react2.default.createElement(
        _InputAreaWithLabelComposite2.default,
        { required: true },
        _react2.default.createElement(_InputArea2.default, null)
      ));

      expect(driver.hasFieldLabelAttributes()).toBe(true);
    });

    it('should FieldLabelAttributes exists if info', function () {
      var driver = createAutoCompleteDriver(_react2.default.createElement(
        _InputAreaWithLabelComposite2.default,
        { info: 'info' },
        _react2.default.createElement(
          _Label2.default,
          null,
          'label'
        ),
        _react2.default.createElement(_InputArea2.default, null)
      ));

      expect(driver.hasFieldLabelAttributes()).toBe(true);
    });

    it('should FieldLabelAttributes exists if info and with one child', function () {
      var driver = createAutoCompleteDriver(_react2.default.createElement(
        _InputAreaWithLabelComposite2.default,
        { info: 'info' },
        _react2.default.createElement(_InputArea2.default, null)
      ));

      expect(driver.hasFieldLabelAttributes()).toBe(true);
    });

    it('should FieldLabelAttributes exists if tooltip', function () {
      var driver = createAutoCompleteDriver(_react2.default.createElement(
        _InputAreaWithLabelComposite2.default,
        { tooltip: _react2.default.createElement(_Tooltip2.default, { content: 'content' }) },
        _react2.default.createElement(
          _Label2.default,
          null,
          'label'
        ),
        _react2.default.createElement(_InputArea2.default, null)
      ));

      expect(driver.hasFieldLabelAttributes()).toBe(true);
    });

    it('should FieldLabelAttributes exists if tooltip and with one child', function () {
      var driver = createAutoCompleteDriver(_react2.default.createElement(
        _InputAreaWithLabelComposite2.default,
        { tooltip: _react2.default.createElement(_Tooltip2.default, { content: 'content' }) },
        _react2.default.createElement(_InputArea2.default, null)
      ));

      expect(driver.hasFieldLabelAttributes()).toBe(true);
    });
  });
});