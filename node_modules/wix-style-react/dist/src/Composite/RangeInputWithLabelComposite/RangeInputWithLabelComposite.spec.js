'use strict';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _RangeInputWithLabelComposite = require('./RangeInputWithLabelComposite');

var _RangeInputWithLabelComposite2 = _interopRequireDefault(_RangeInputWithLabelComposite);

var _Label = require('../../Label');

var _Label2 = _interopRequireDefault(_Label);

var _Input = require('../../Input');

var _Input2 = _interopRequireDefault(_Input);

var _RangeWithLabelComposite = require('./RangeWithLabelComposite.driver');

var _RangeWithLabelComposite2 = _interopRequireDefault(_RangeWithLabelComposite);

var _driverFactory = require('wix-ui-test-utils/driver-factory');

var _Tooltip = require('../../Tooltip/Tooltip');

var _Tooltip2 = _interopRequireDefault(_Tooltip);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

describe('RangeInputWithLabelComposite', function () {
  var createRangeCompositeDriver = (0, _driverFactory.createDriverFactory)(_RangeWithLabelComposite2.default);

  it('should remove label wrapping when label not given', function () {
    var driver = createRangeCompositeDriver(_react2.default.createElement(
      _RangeInputWithLabelComposite2.default,
      null,
      _react2.default.createElement(_Input2.default, null),
      _react2.default.createElement(_Input2.default, null)
    ));
    expect(driver.hasLabel()).toBe(false);
    expect(driver.getNumberOfChildren()).toBe(2);
  });

  it('should render Label with 2 Inputs', function () {
    var driver = createRangeCompositeDriver(_react2.default.createElement(
      _RangeInputWithLabelComposite2.default,
      null,
      _react2.default.createElement(
        _Label2.default,
        null,
        'myLabel'
      ),
      _react2.default.createElement(_Input2.default, null),
      _react2.default.createElement(_Input2.default, null)
    ));
    expect(driver.hasLabel()).toBe(true);
    expect(driver.getLabel()).toBe('myLabel');
    expect(driver.hasInputs()).toBe(true);
  });

  describe('label attributes', function () {
    it('should FieldLabelAttributes not exists if all attributes empty or false', function () {
      var driver = createRangeCompositeDriver(_react2.default.createElement(
        _RangeInputWithLabelComposite2.default,
        null,
        _react2.default.createElement(
          _Label2.default,
          null,
          'myLabel'
        ),
        _react2.default.createElement(_Input2.default, null),
        _react2.default.createElement(_Input2.default, null)
      ));

      expect(driver.hasFieldLabelAttributes()).toBe(false);
    });

    it('should FieldLabelAttributes exists if required', function () {
      var driver = createRangeCompositeDriver(_react2.default.createElement(
        _RangeInputWithLabelComposite2.default,
        { required: true },
        _react2.default.createElement(
          _Label2.default,
          null,
          'myLabel'
        ),
        _react2.default.createElement(_Input2.default, null),
        _react2.default.createElement(_Input2.default, null)
      ));

      expect(driver.hasFieldLabelAttributes()).toBe(true);
    });

    it('should FieldLabelAttributes exists if info', function () {
      var driver = createRangeCompositeDriver(_react2.default.createElement(
        _RangeInputWithLabelComposite2.default,
        { info: 'info' },
        _react2.default.createElement(
          _Label2.default,
          null,
          'myLabel'
        ),
        _react2.default.createElement(_Input2.default, null),
        _react2.default.createElement(_Input2.default, null)
      ));

      expect(driver.hasFieldLabelAttributes()).toBe(true);
    });

    it('should FieldLabelAttributes exists if tooltip', function () {
      var driver = createRangeCompositeDriver(_react2.default.createElement(
        _RangeInputWithLabelComposite2.default,
        { tooltip: _react2.default.createElement(_Tooltip2.default, { content: 'content' }) },
        _react2.default.createElement(
          _Label2.default,
          null,
          'myLabel'
        ),
        _react2.default.createElement(_Input2.default, null),
        _react2.default.createElement(_Input2.default, null)
      ));

      expect(driver.hasFieldLabelAttributes()).toBe(true);
    });
  });
});