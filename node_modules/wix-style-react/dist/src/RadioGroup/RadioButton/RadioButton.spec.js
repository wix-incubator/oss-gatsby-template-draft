'use strict';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _RadioButton = require('./RadioButton');

var _RadioButton2 = _interopRequireDefault(_RadioButton);

var _RadioButton3 = require('./RadioButton.driver');

var _RadioButton4 = _interopRequireDefault(_RadioButton3);

var _driverFactory = require('wix-ui-test-utils/driver-factory');

var _testkit = require('../../../testkit');

var _testkitSanity = require('../../../test/utils/testkit-sanity');

var _enzyme = require('../../../testkit/enzyme');

var _enzyme2 = require('enzyme');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

describe('RadioButton', function () {
  var createDriver = (0, _driverFactory.createDriverFactory)(_RadioButton4.default);

  it('should have a label', function () {
    var label = 'myLabel';
    var driver = createDriver(_react2.default.createElement(
      _RadioButton2.default,
      { value: '1' },
      label
    ));
    expect(driver.getLabel()).toBe(label);
  });

  it('should be disabled', function () {
    var driver = createDriver(_react2.default.createElement(_RadioButton2.default, { value: '1', disabled: true }));
    expect(driver.isDisabled()).toBe(true);
  });

  it('should be checked', function () {
    var driver = createDriver(_react2.default.createElement(_RadioButton2.default, { value: '1', checked: true }));
    expect(driver.isChecked()).toBe(true);
  });

  it('should call onChange', function () {
    var onChange = jest.fn();
    var value = 1;
    var driver = createDriver(_react2.default.createElement(_RadioButton2.default, { value: value, onChange: onChange }));
    driver.check();
    expect(onChange).toBeCalledWith(value);
  });

  it('should not call onChange if already checked', function () {
    var onChange = jest.fn();
    var value = 1;
    var driver = createDriver(_react2.default.createElement(_RadioButton2.default, { value: value, onChange: onChange, checked: true }));
    driver.check();
    expect(onChange).not.toBeCalledWith(value);
  });

  it('should not call onChange if disabled', function () {
    var onChange = jest.fn();
    var value = 1;
    var driver = createDriver(_react2.default.createElement(_RadioButton2.default, { value: value, onChange: onChange, disabled: true }));
    driver.check();
    expect(onChange).not.toBeCalledWith(value);
  });

  describe('given `content` prop', function () {
    it('should render node from that prop', function () {
      var driver = createDriver(_react2.default.createElement(_RadioButton2.default, { content: _react2.default.createElement(
          'span',
          null,
          'Hello'
        ) }));
      expect(driver.getContent().textContent).toBe('Hello');
    });
  });

  describe('testkit', function () {
    it('should exist', function () {
      expect((0, _testkitSanity.isTestkitExists)(_react2.default.createElement(_RadioButton2.default, null), _testkit.radioButtonTestkitFactory)).toBe(true);
    });
  });

  describe('enzyme testkit', function () {
    it('should exist', function () {
      expect((0, _testkitSanity.isEnzymeTestkitExists)(_react2.default.createElement(_RadioButton2.default, null), _enzyme.radioButtonTestkitFactory, _enzyme2.mount)).toBe(true);
    });
  });
});