"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var eyes = require("eyes.it");
var protractor_1 = require("protractor");
var protractor_2 = require("wix-ui-test-utils/protractor");
var protractor_3 = require("../../testkit/protractor");
var selenium_webdriver_1 = require("selenium-webdriver");
describe('ToggleSwitch', function () {
    var storyUrl = protractor_2.getStoryUrl('Components', 'ToggleSwitch');
    var dataHook = 'story-toggleswitch';
    beforeEach(function () { return protractor_1.browser.get(storyUrl); });
    eyes.it('should toggle', function () {
        var driver = protractor_3.toggleSwitchTestkitFactory({ dataHook: dataHook });
        return protractor_2.waitForVisibilityOf(driver.element(), 'Cannot find ToggleSwitch')
            .then(function () {
            expect(driver.checked()).toBeFalsy();
            driver.click();
            expect(driver.checked()).toBeTruthy();
            driver.click();
            expect(driver.checked()).toBeFalsy();
        });
    });
    eyes.it('should support accessiblility features', function () {
        var driver = protractor_3.toggleSwitchTestkitFactory({ dataHook: dataHook });
        return protractor_2.waitForVisibilityOf(driver.element(), 'Cannot find ToggleSwitch')
            .then(function () {
            expect(driver.checked()).toBe(false);
            protractor_1.browser.actions().sendKeys(selenium_webdriver_1.Key.TAB, selenium_webdriver_1.Key.SPACE).perform();
            expect(driver.checked()).toBe(true);
            protractor_1.browser.actions().sendKeys(selenium_webdriver_1.Key.SPACE).perform();
            expect(driver.checked()).toBe(false);
            protractor_1.browser.actions().sendKeys(selenium_webdriver_1.Key.CONTROL).perform();
            expect(driver.checked()).toBe(false);
        });
    });
});
//# sourceMappingURL=ToggleSwitch.e2e.js.map