"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var React = require("react");
var ReactTestUtils = require("react-dom/test-utils");
var react_helpers_1 = require("../react-helpers");
function testkitFactoryCreator(driverFactory) {
    return function (obj) {
        var eventTrigger = react_helpers_1.reactEventTrigger();
        var element = obj.wrapper.querySelector("[data-hook='" + obj.dataHook + "']");
        return driverFactory({ element: element, wrapper: obj.wrapper, eventTrigger: eventTrigger });
    };
}
exports.testkitFactoryCreator = testkitFactoryCreator;
function isTestkitExists(Element, testkitFactory, options) {
    var div = document.createElement('div');
    var dataHook = 'myDataHook';
    var dataHookPropName = options && options.dataHookPropName;
    var extraProps = dataHookPropName ? (_a = {}, _a[dataHookPropName] = dataHook, _a) :
        { 'data-hook': dataHook, dataHook: dataHook }; // For backward compatibility add dataHook which is used in Wix-Style-React
    var elementToRender = React.cloneElement(Element, extraProps);
    var renderedElement = ReactTestUtils.renderIntoDocument(React.createElement("div", null, elementToRender));
    var wrapper = div.appendChild(renderedElement);
    var testkit = testkitFactory({ wrapper: wrapper, dataHook: dataHook });
    return testkit.exists();
    var _a;
}
exports.isTestkitExists = isTestkitExists;
//# sourceMappingURL=vanilla.js.map